"use strict";(globalThis["webpackChunkraiden_dapp"]=globalThis["webpackChunkraiden_dapp"]||[]).push([[904],{9226:(t,a,e)=>{e.d(a,{Z:()=>_});var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"amount-display",class:{"amount-display--inline":t.inline,"amount-display--full-width":t.fullWidth},on:{mouseover:function(a){t.exactAmount&&(t.displayExactAmount=!0)},mouseleave:function(a){t.exactAmount&&(t.displayExactAmount=!1)}}},[t.showLabel?e("span",{staticClass:"amount-display__label"},[t._v(" "+t._s(t.label)+" ")]):t._e(),t._t("default",(function(){return[e("span",{staticClass:"amount-display__formatted-amount",class:{"amount-display__formatted-amount--warning":t.warning}},[t._v(" "+t._s(t.formattedAmount)+" ")])]}))],2)},s=[],n=e(59312),r=e(3922),l=e(57102),o=e(93840);let d=class extends l.w3{constructor(){super(...arguments),this.displayExactAmount=!1}get showLabel(){return void 0!==this.label}get exactAmountValue(){const t=r.O$.from(this.amount);return o.Z.toUnits(t,this.token.decimals)}get roundedAmountValue(){const t=r.O$.from(this.amount);return o.Z.displayFormat(t,this.token.decimals)}get formattedAmount(){let t=this.sign;return t+=this.displayExactAmount?this.exactAmountValue:this.roundedAmountValue,t+=" "+this.token.symbol,t}};(0,n.__decorate)([(0,l.fI)({required:!1,default:!1,type:Boolean})],d.prototype,"exactAmount",void 0),(0,n.__decorate)([(0,l.fI)({type:String,required:!1})],d.prototype,"label",void 0),(0,n.__decorate)([(0,l.fI)({required:!0})],d.prototype,"amount",void 0),(0,n.__decorate)([(0,l.fI)({type:String,default:""})],d.prototype,"sign",void 0),(0,n.__decorate)([(0,l.fI)({required:!0})],d.prototype,"token",void 0),(0,n.__decorate)([(0,l.fI)({required:!1,default:!1,type:Boolean})],d.prototype,"inline",void 0),(0,n.__decorate)([(0,l.fI)({type:Boolean,default:!1})],d.prototype,"fullWidth",void 0),(0,n.__decorate)([(0,l.fI)({type:Boolean,default:!1})],d.prototype,"warning",void 0),d=(0,n.__decorate)([l.wA],d);const c=d,h=c;var w=e(79917),u=(0,w.Z)(h,i,s,!1,null,"97172a00",null);const _=u.exports},37613:(t,a,e)=>{e.r(a),e.d(a,{default:()=>O});var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("withdrawal")},s=[],n=e(59312),r=e(57102),l=e(23399),o=e(8137),d=e(55429),c=e(50948),h=e(19021),w=e(48727),u=e(3950),_=e(56639),p=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"withdrawal"},[i("div",{staticClass:"withdrawal__info-box"},[i("img",{staticClass:"mr-2 mt-1",attrs:{src:e(34061),height:"18px",width:"18px"}}),i("span",[t._v(" "+t._s(t.$t("withdrawal.title"))+" "),i("a",{staticClass:"withdrawal__info-box__link",on:{click:t.navigateToUDC}},[t._v(" "+t._s(t.$t("withdrawal.navigation-link-title"))+" ")])])]),t.loading?i("spinner",{staticClass:"withdrawal__loading"}):0===t.balances.length?i("div",{staticClass:"withdrawal__empty",attrs:{"data-cy":"withdrawal_empty",align:"center",justify:"center"}},[i(d.Z,{staticClass:"my-4",attrs:{height:"150px",width:"150px",src:e(13759)}}),i("span",[t._v(t._s(t.$t("withdrawal.no-tokens")))])],1):t._e(),i(c.Z,{staticClass:"withdrawal__token-list mt-4",attrs:{"data-cy":"withdrawal_tokens",flat:""}},[t._l(t.balances,(function(a,s){return[i(h.Z,{key:a.address,staticClass:"withdrawal__token-list__item"},[i(w.Z,{staticClass:"withdrawal__token-list__item__icon"},[i("img",{staticClass:"indenticon",attrs:{src:t.$blockie(a.address),alt:t.$t("withdrawal.blockie-alt")}})]),i(u.km,[i(u.V9,{staticClass:"withdrawal__token-list__item__name"},[t._v(" "+t._s(a.name||"")+" ")]),i(u.oZ,{staticClass:"withdrawal__token-list__item__address"},[i("address-display",{attrs:{address:a.address}})],1)],1),i(_.Z,[i("div",{staticClass:"withdrawal__token-list__item__button",attrs:{"data-cy":"withdrawal_tokens_button"},on:{click:function(e){t.withdraw=a}}},[i("amount-display",{attrs:{amount:a.balance,token:a}}),i("img",{attrs:{src:e(63057)}})],1)])],1),s<t.balances.length-1?i(o.Z,{key:s}):t._e()]}))],2),t.withdraw?i("raiden-dialog",{attrs:{visible:""},on:{close:function(a){t.withdraw=null}}},[i(l.EB,[i("i18n",{attrs:{path:"withdrawal.dialog.title",tag:"span"}},[i("amount-display",{attrs:{inline:"",amount:t.withdraw.balance,token:t.withdraw}})],1)],1),i(l.ZB,[t.withdrawing?i("div",{staticClass:"mt-4"},[i("spinner"),i("div",{staticClass:"mt-4"},[t._v(t._s(t.$t("withdrawal.dialog.progress")))])],1):i("div",[i("i18n",{attrs:{path:"withdrawal.dialog.body",tag:"span"}},[i("amount-display",{attrs:{inline:"",amount:t.withdraw.balance,token:t.withdraw}})],1),0===parseFloat(t.raidenAccountBalance)?i("div",{staticClass:"error--text mt-2"},[t._v(" "+t._s(t.$t("withdrawal.dialog.no-eth"))+" ")]):t._e()],1)]),t.withdrawing?t._e():i(l.h7,[i("action-button",{staticClass:"withdrawal-dialog__action",attrs:{"data-cy":"withdrawal_dialog_action",enabled:parseFloat(t.raidenAccountBalance)>0,text:t.$t("withdrawal.dialog.button"),"full-witdh":""},on:{click:function(a){return t.withdrawTokens()}}})],1)],1):t._e()],1)},m=[],v=e(5733),f=e(31091),g=e.n(f),y=e(77382),b=e(80300),k=e(1560),x=e(9226),C=e(7648),A=e(54928),Z=e(31113),$=e(55093);let B=class extends((0,r.Wr)(Z.Z,$.Z)){constructor(){super(...arguments),this.balances=[],this.loading=!0,this.withdrawing=!1,this.withdraw=null}async mounted(){await this.$raiden.fetchAndUpdateTokenData();const t=g()(this.allTokens.concat(this.udcToken),(t=>t.address)),a=await Promise.all(t.map((async t=>({...t,balance:await this.$raiden.getTokenBalance(t.address,this.$store.state.defaultAccount)}))));this.balances=a.filter((t=>t.balance.gt(v._Y))),this.loading=!1}async withdrawTokens(){if(this.withdraw&&this.withdraw.balance)try{this.withdrawing=!0;const{address:t,balance:a}=this.withdraw;await this.$raiden.transferOnChainTokens(t,a),this.balances=this.balances.filter((a=>a.address!==t)),this.withdraw=null}catch(t){}finally{this.withdrawing=!1}}};B=(0,n.__decorate)([(0,r.wA)({components:{ActionButton:b.Z,RaidenDialog:C.Z,AddressDisplay:k.Z,AmountDisplay:x.Z,Spinner:A.Z},computed:{...(0,y.rn)(["raidenAccountBalance"]),...(0,y.rn)("userDepositContract",{udcToken:"token"}),...(0,y.Se)(["allTokens"])}})],B);const T=B,E=T;var I=e(79917),D=(0,I.Z)(E,p,m,!1,null,"5bb83a17",null);const q=D.exports;let V=class extends r.w3{};V=(0,n.__decorate)([(0,r.wA)({components:{Withdrawal:q}})],V);const S=V,W=S;var F=(0,I.Z)(W,i,s,!1,null,"697a87f3",null);const O=F.exports},8137:(t,a,e)=>{e.d(a,{Z:()=>s});var i=e(33248);const s=i.Z.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let a;return this.$attrs.role&&"separator"!==this.$attrs.role||(a=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":a,...this.$attrs},on:this.$listeners})}})},63057:(t,a,e)=>{t.exports=e.p+"img/icon-withdraw.72a53756.svg"},34061:(t,a,e)=>{t.exports=e.p+"img/info-gray.bef437b1.svg"},13759:(t,a,e)=>{t.exports=e.p+"img/info.fae80e9e.svg"}}]);