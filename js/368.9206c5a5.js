"use strict";(globalThis["webpackChunkraiden_dapp"]=globalThis["webpackChunkraiden_dapp"]||[]).push([[368],{99846:(e,i,t)=>{t.d(i,{Z:()=>k});var r=t(42664),n=t(23399),o=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("raiden-dialog",{staticClass:"ethereum-provider-base-dialog",attrs:{width:"472",visible:!0},on:{close:e.emitCancel}},[t(n.EB,{staticClass:"ethereum-provider-base-dialog__header"},[e._v(e._s(e.header))]),t(n.ZB,[e.description?t("p",{staticClass:"ethereum-provider-base-dialog__description"},[e._v(" "+e._s(e.description)+" ")]):e._e(),e.linkingInProgress?e._e():e._t("default"),e.linkingInProgress?t("spinner"):e._e(),e.linkingFailed?t(r.Z,{staticClass:"ethereum-provider-base-dialog__error text-left font-weight-light",attrs:{color:"error",icon:"warning"}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()],2),t(n.h7,[t("action-button",{attrs:{"data-cy":"ethereum-provider-base-dialog__button",enabled:e.buttonEnabled,text:e.$t("connection-manager.dialogs.base.link-button"),width:"200px"},on:{click:e.emitLink}})],1)],1)},s=[],a=t(59312),d=t(57102),l=t(80300),c=t(7648),p=t(54928);let g=class extends d.w3{get buttonEnabled(){return this.canLink&&!this.linkingInProgress}emitCancel(){}emitLink(){}};(0,a.__decorate)([(0,d.fI)({type:String,required:!0})],g.prototype,"header",void 0),(0,a.__decorate)([(0,d.fI)({type:String})],g.prototype,"description",void 0),(0,a.__decorate)([(0,d.fI)({type:Boolean,required:!0})],g.prototype,"canLink",void 0),(0,a.__decorate)([(0,d.fI)({type:Boolean,required:!0})],g.prototype,"linkingInProgress",void 0),(0,a.__decorate)([(0,d.fI)({type:Boolean,required:!0})],g.prototype,"linkingFailed",void 0),(0,a.__decorate)([(0,d.fI)({type:String,required:!0})],g.prototype,"errorMessage",void 0),(0,a.__decorate)([(0,d.y1)("cancel")],g.prototype,"emitCancel",null),(0,a.__decorate)([(0,d.y1)("link")],g.prototype,"emitLink",null),g=(0,a.__decorate)([(0,d.wA)({components:{ActionButton:l.Z,RaidenDialog:c.Z,Spinner:p.Z}})],g);const h=g,v=h;var u=t(79917),_=(0,u.Z)(v,o,s,!1,null,null,null);const k=_.exports},82368:(e,i,t)=>{t.r(i),t.d(i,{default:()=>u});var r=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("ethereum-provider-base-dialog",{attrs:{header:e.$t("connection-manager.dialogs.injected-provider.header"),description:e.$t("connection-manager.dialogs.injected-provider.description"),"can-link":e.canLink,"linking-in-progress":e.linkingInProgress,"linking-failed":e.linkingFailed,"error-message":e.$t("connection-manager.dialogs.injected-provider.error-message")},on:{link:e.link,cancel:e.emitCancel}})},n=[],o=t(59312),s=t(57102),a=t(99846),d=t(50572),l=t(77801);let c=class extends((0,s.Wr)(d.Z)){constructor(){super(...arguments),this.providerFactory=l.Ec}};c=(0,o.__decorate)([(0,s.wA)({components:{EthereumProviderBaseDialog:a.Z}})],c);const p=c,g=p;var h=t(79917),v=(0,h.Z)(g,r,n,!1,null,null,null);const u=v.exports},50572:(e,i,t)=>{t.d(i,{Z:()=>l});var r=t(59312),n=t(57102),o=t(77382);const{mapGetters:s,mapMutations:a}=(0,o._p)("userSettings");let d=class extends n.w3{constructor(){super(...arguments),this.linkingFailed=!1,this.linkingInProgress=!1}get canLink(){return!0}get providerOptions(){return{}}created(){this.checkCorrectMixinUsage(),this.loadSavedProviderOptions()}checkCorrectMixinUsage(){if(void 0===this.providerFactory)throw new Error("Incorrect usage of mixin. Missing definition of provider to use.")}loadSavedProviderOptions(){const e=this.getEthereumProviderOptions()(this.providerFactory.providerName);for(const[i,t]of Object.entries(e))this[i]=t}saveProviderOptions(){this.saveEthereumProviderOptions({providerName:this.providerFactory.providerName,providerOptions:this.providerOptions})}async link(){if(!this.canLink||this.linkingInProgress)throw new Error("Can not link now!");this.linkingFailed=!1,this.linkingInProgress=!0;try{const e=await this.providerFactory.link(this.providerOptions);this.saveProviderOptions(),this.emitLinkEstablished(e)}catch{this.linkingFailed=!0}finally{this.linkingInProgress=!1}}emitLinkEstablished(e){return e}emitCancel(){}};(0,r.__decorate)([(0,n.y1)("linkEstablished")],d.prototype,"emitLinkEstablished",null),(0,r.__decorate)([(0,n.y1)("cancel")],d.prototype,"emitCancel",null),d=(0,r.__decorate)([(0,n.wA)({methods:{...s(["getEthereumProviderOptions"]),...a(["saveEthereumProviderOptions"])}})],d);const l=d}}]);